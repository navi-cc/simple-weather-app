<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Weather App</title>
		<script>
			;(() => {
				try {
					const stored = localStorage.getItem('themeMode')
					if (stored ? stored === 'dark' : matchMedia('(prefers-color-scheme: dark)').matches) {
						document.documentElement.classList.add('dark')
					}
				} catch (_) {}

				const apply = (dark) => {
					document.documentElement.classList.toggle('dark', dark)
					try {
						localStorage.setItem('themeMode', dark ? 'dark' : 'light')
					} catch (_) {}
				}

				document.addEventListener('basecoat:theme', (event) => {
					const mode = event.detail?.mode
					apply(
						mode === 'dark'
							? true
							: mode === 'light'
								? false
								: !document.documentElement.classList.contains('dark')
					)
				})
			})()
		</script>
	</head>
	<body class="flex flex-col gap-y-8 justify-center items-center h-dvh">
		<span class="text-5xl mb-5">Simple Weather App</span>

		<div class="relative">
			<form action="" method="post" id="search-form">
				<div id="search-dropdown-results" class="dropdown-menu">
					<input type="text" name="search-query" class="input pr-10" placeholder="Type to search..." />

					<button
						type="submit"
						class="absolute right-1.5 top-1/2 -translate-y-1/2 btn-secondary h-6 p-2 rounded"
						data-tooltip="Search"
						id="search-dropdown-results-trigger"
						aria-haspopup="menu"
						aria-controls="search-dropdown-results-menu"
						aria-expanded="false"
					>
						<i data-lucide="search" id="search-state-icon"></i>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							role="status"
							aria-label="Loading"
							class="size-3 animate-spin hidden"
							id="spinner-state-icon"
						>
							<path d="M21 12a9 9 0 1 1-6.219-8.56" />
						</svg>
					</button>

					<div id="search-dropdown-results-popover" data-popover aria-hidden="true" class="min-w-56">
						<div
							role="menu"
							id="search-dropdown-results-menu"
							aria-labelledby="search-dropdown-results-trigger"
						></div>
					</div>
				</div>
			</form>
		</div>

		<div
			id="weather-card"
			class="card justify-center items-center pt-10 pb-10 pl-15 pr-15 cursor-default hidden"
		>
			<div class="flex items-center gap-x-1.5" data-tooltip="Location" data-side="bottom">
				<i class="w-7 h-7" data-lucide="map-pin"></i>
				<span class="city-title text-xl font-semibold cursor-default">City of Balanga</span>
			</div>

			<div class="flex items-center gap-x-1.5" data-tooltip="Temperature" data-side="bottom">
				<i class="w-4 h-4 mt-0.5" data-lucide="thermometer"></i>
				<span id="weather-temperature" class="text-lg">29.05 Â°C</span>
			</div>

			<div class="flex items-center gap-x-1.5" data-tooltip="Condition" data-side="bottom">
				<span id="weather-condition" class="city-title text-lg">Rainy</span>
			</div>

			<div class="flex justify-center items-center gap-x-1.5" data-tooltip="Humidity" data-side="bottom">
				<i class="w-4 h-4 mt-0.5" data-lucide="sun-snow"></i>
				<span id="weather-humidity" class="city-title text-lg">69%</span>
			</div>

			<div class="flex items-center gap-x-1.5" data-tooltip="Wind Speed" data-side="bottom">
				<i class="w-4 h-4 mt-0.5" data-lucide="wind"></i>
				<span id="weather-wind-speed" class="city-title text-lg">7.34 km/h</span>
			</div>
		</div>

		<button
			type="button"
			aria-label="Toggle dark mode"
			data-tooltip="Toggle dark mode"
			data-side="bottom"
			onclick="document.dispatchEvent(new CustomEvent('basecoat:theme'))"
			class="btn-icon-outline size-8"
		>
			<span class="hidden dark:block"
				><svg
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<circle cx="12" cy="12" r="4" />
					<path d="M12 2v2" />
					<path d="M12 20v2" />
					<path d="m4.93 4.93 1.41 1.41" />
					<path d="m17.66 17.66 1.41 1.41" />
					<path d="M2 12h2" />
					<path d="M20 12h2" />
					<path d="m6.34 17.66-1.41 1.41" />
					<path d="m19.07 4.93-1.41 1.41" />
				</svg>
			</span>
			<span class="block dark:hidden"
				><svg
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
				</svg>
			</span>
		</button>
	</body>
</html>
